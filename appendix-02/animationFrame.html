<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.4.0/rxjs.umd.js"></script>
</head>
<div id='name' style="background-color: black; width: 300px; height: 300px;">

</div>
<body>
    <script>
        var start = null;
        var element = document.getElementById('name');
        
        // function step(timestamp) {
        //   if (!start) start = timestamp;
        //   var progress = timestamp - start;
        //   element.style.transform = 'translateX(' + Math.min(progress / 10, 200) + 'px)';
        //   if (progress < 2000) {
        //     window.requestAnimationFrame(step);
        //   }
        // }

        // window.requestAnimationFrame(step);
        
        // function step(timestamp) {
        //   if (!start) start = timestamp;
        //   var progress = timestamp - start;
        //   element.style.transform = 'translateX(' + Math.min(progress / 10, 200) + 'px)';
        //   if (progress < 2000) {
        //     window.requestAnimationFrame(step);
        //   }
        // }

        // let promise = new Promise((resolve, reject)=>{
        //     resolve(()=>{
        //         element.style.transform = 'translateX(100px)';
        //     });
        // });


        function step(timestamp) {
          console.log("1");
          if (!start) start = timestamp;
          var progress = timestamp - start;
          element.style.transform = 'translateX(' + Math.min(progress / 10, 200) + 'px)';
          if (progress < 2000) {
            console.log("2");
            window.setTimeout(()=>step(), 0);
          }
        }

        setTimeout(()=>{step()}, 0);
        
        
        // promise.then(call=>call());



    </script>
</body>
</html>